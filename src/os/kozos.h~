#ifndef _KOZOS_H_INCLUDED_
#define _KOZOS_H_INCLUDED_

#include "../misc/defines.h"
#include "syscall.h"

typedef uint32 kz_thread_id_t;
typedef int (* kz_func_t)(int argc, char * argv[]);
typedef void (* kz_handler_t)(void);

///  システムコール
kz_thread_id_t kz_run(kz_func_t func, char * name, int stack_size, int argc, char * argv[]);

/// スレッド強制終了
void kz_exit(void);

/// ライブラリ関数
void kz_start(kz_func_t func, char * name, uint16 stack_size, int argc, char * argv[]) __attribute__((noreturn));
void kz_sysdown(void) __attribute__((noreturn));
void kz_syscall(kz_syscall_type_t type, kz_syscall_param_t * param);

/// ユーザースレッド
//  テストプログラムをここに書くのは、ちょっと疑問
int test08_1_main(int argc, char * argv[]);

#endif 
